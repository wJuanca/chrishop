---
import Layout from "../layouts/Layout.astro";
import { Image } from "astro:assets";
import location from "../assets/icons/location.png";
import phone from "../assets/icons/phone.png";
import mail from "../assets/icons/mail.png";
---

<Layout title="Contactanos">
  <section class="min-h-screen flex items-center justify-center relative px-4 py-8 sm:py-12 lg:py-12">
    <!-- Contenedor principal -->
    <div class="absolute bottom-0 left-0 w-full overflow-hidden">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
        <path
          fill="#f2a7be"
          fill-opacity="1"
          d="M0,0L60,53.3C120,107,240,213,360,250.7C480,288,600,256,720,213.3C840,171,960,117,1080,112C1200,107,1320,149,1380,170.7L1440,192L1440,320L1380,320C1320,320,1200,320,1080,320C960,320,840,320,720,320C600,320,480,320,360,320C240,320,120,320,60,320L0,320Z"
        ></path>
      </svg>
    </div>
  
    <div class="container max-w-4xl mx-auto flex flex-col lg:flex-row items-start justify-center gap-8 lg:gap-12 relative z-10 mt-20">
      <!-- Formulario de Contacto -->
      <div class="w-full lg:w-2/5">
        <div class="bg-white rounded-xl shadow-lg p-6 md:p-8 transform hover:shadow-xl transition-all duration-300">
          <h2 class="text-2xl font-semibold mb-4">Contáctanos</h2>
          <form id="contact-form" class="space-y-4">
            <div class="space-y-2">
              <label for="name" class="block text-gray-700 font-medium">Nombre:</label>
              <input
                type="text"
                id="name"
                name="name"
                required
                pattern="[A-Za-zÁáÉéÍíÓóÚúÑñ]+([ A-Za-zÁáÉéÍíÓóÚúÑñ]+)*"
                class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none transition-colors"
              />
            </div>
  
            <div class="space-y-2">
              <label for="surname" class="block text-gray-700 font-medium">Apellido:</label>
              <input
                type="text"
                id="surname"
                name="surname"
                required
                pattern="[A-Za-zÁáÉéÍíÓóÚúÑñ]+([ A-Za-zÁáÉéÍíÓóÚúÑñ]+)*"
                class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none transition-colors"
              />
            </div>
  
            <div class="space-y-2">
              <label for="email" class="block text-gray-700 font-medium">Correo Electrónico:</label>
              <input
                type="email"
                id="email"
                name="email"
                required
                class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none transition-colors"
              />
            </div>
  
            <div class="space-y-2">
              <label for="message" class="block text-gray-700 font-medium">Mensaje:</label>
              <textarea
                id="message"
                name="message"
                rows="3"
                required
                class="w-full px-3 py-2 rounded-lg border border-gray-300 focus:outline-none transition-colors resize-none"
              ></textarea>
            </div>
  
  
            <button
              type="submit"
              id="submit-button"
              class="w-full py-2 px-4 bg-[#2b2b2b] hover:bg-pink text-white font-medium rounded-lg transition-colors duration-300"
            >
              Enviar Mensaje
            </button>
          </form>
        </div>
      </div>
  
      <!-- Sección de Informacion de Contacto -->
      <div class="w-full lg:w-2/5 bg-white rounded-xl shadow-lg p-6 md:p-8 transform hover:shadow-xl transition-all duration-300">
        <h2 class="text-2xl font-semibold mb-4">Información de Contacto</h2>
        <div class="space-y-6">
          <div class="flex items-center space-x-4">
            <Image src={mail} alt="Correo" class="w-6 h-6" loading="eager" />
            <span class="text-gray-700">chrishopcontact@gmail.com</span>
          </div>
          <div class="flex items-center space-x-4">
            <Image src={phone} alt="Teléfono" class="w-6 h-6" loading="eager" />
            <span class="text-gray-700">+504 8981-3631</span>
          </div>
          <div class="flex items-center space-x-4">
            <Image src={location} alt="Ubicación" class="w-6 h-6" loading="eager" />
            <span class="text-gray-700">Esquina Opuesta del Cementerio General, San Francisco de la Paz, Olancho</span>
          </div>
  
          <div class="flex space-x-6">
            <div class="w-8 h-8 bg-pink3 rounded-full flex items-center justify-center">
              <a href="https://www.facebook.com/onlinechrishop" target="_blank" class="social-icon" aria-label="Visítanos en Facebook">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-facebook"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"/></svg>
            </a>
            </div>
            <div class="w-8 h-8 bg-pink3 rounded-full flex items-center justify-center">
              <a href="https://www.instagram.com/___chrishop____/" target="_blank" class="social-icon" aria-label="Visítanos en Instagram">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-instagram"><rect width="20" height="20" x="2" y="2" rx="5" ry="5"/><path d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"/><line x1="17.5" x2="17.51" y1="6.5" y2="6.5"/></svg>
            </a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>


  <!-- scripts -->
  <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function() {
      emailjs.init("srojoDCNXlHxYnUE3");

      const form = document.getElementById('contact-form');
      const submitButton = document.getElementById('submit-button');
      
      if (!form || !submitButton) {
          console.error('No se encontró el formulario o el botón de envío');
          return;
      }

      const showMessage = (message, isError = false) => {
          alert(message);
      };

      const setButtonState = (isLoading) => {
          submitButton.disabled = isLoading;
          submitButton.textContent = isLoading ? 'Enviando...' : 'Enviar Mensaje';
      };

      form.addEventListener('submit', async function(event) {
          event.preventDefault();
          
          try {
              setButtonState(true);

              const response = await emailjs.sendForm(
                  'service_hby3rax',
                  'template_zbhi3ra',
                  form
              );

              if (response.status === 200) {
                  showMessage('¡Mensaje enviado con éxito!');
                  form.reset();
              } else {
                  throw new Error('Error al enviar el mensaje');
              }
          } catch (error) {
              console.error('Error:', error);
              showMessage('Hubo un error al enviar el mensaje. Por favor, intenta nuevamente.', true);
          } finally {
              setButtonState(false);
          }
      });
    });
  </script>

  <script
    type="text/javascript"
    src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"
  ></script>
</Layout>